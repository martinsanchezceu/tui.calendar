<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>TOAST UI Calendar Example - Monthly View Basic</title>
    <link rel="stylesheet" href="../dist/toastui-calendar.css" />
    <link rel="stylesheet" href="./styles/reset.css" />
    <link rel="stylesheet" href="./styles/app.css" />
    <link rel="stylesheet" href="./styles/icons.css" />
    <style>
      .navbar {
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div class="app-container code-html">
      <header class="header">
        <nav class="navbar">
          <button class="button is-rounded today">Today</button>
          <button class="button is-rounded prev">
            <img
              alt="prev"
              src="./images/ic-arrow-line-left.png"
              srcset="./images/ic-arrow-line-left@2x.png 2x, ./images/ic-arrow-line-left@3x.png 3x"
            />
          </button>
          <button class="button is-rounded next">
            <img
              alt="prev"
              src="./images/ic-arrow-line-right.png"
              srcset="
                ./images/ic-arrow-line-right@2x.png 2x,
                ./images/ic-arrow-line-right@3x.png 3x
              "
            />
          </button>
          <span class="navbar--range"></span>
        </nav>
      </header>
      <main id="app"></main>
    </div>

    <!-- Dependencias necesarias -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.3/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chance/1.1.8/chance.min.js"></script>
    <script src="../dist/toastui-calendar.ie11.min.js"></script>
    <script src="./scripts/mock-data.js"></script>
    <script src="./scripts/utils.js"></script>

    <script type="text/javascript">
      var Calendar = window.tui.Calendar;

      var cal = new Calendar('#app', {
        defaultView: 'month',
        calendars: MOCK_CALENDARS, // Opcional si tienes calendarios
      });

      // Crear los eventos
      var events = [
        {
          id: '1',
          calendarId: '1',
          title: 'Evento de ejemplo',
          category: 'time',
          start: '2024-10-14T09:30:00',
          end: '2024-10-14T10:30:00',
        },
        {
          id: '2',
          calendarId: '1',
          title: 'Reunión semanal',
          category: 'time',
          start: '2024-10-15T11:00:00',
          end: '2024-10-15T12:00:00',
        },
        {
          id: '3',
          calendarId: '1',
          title: 'Seminario General',
          category: 'time',
          start: '2024-10-15T12:00:00',
          end: '2024-10-15T12:00:00',
        },
        {
          id: '4',
          calendarId: '1',
          title: 'Seminario General',
          category: 'time',
          start: '2024-10-15T15:00:00',
          end: '2024-10-15T15:00:00',
        },
      ];

      // Mostrar los eventos en el calendario
      cal.createEvents(events);

      // Funciones de control de los botones de navegación
      var todayButton = document.querySelector('.today');
      var prevButton = document.querySelector('.prev');
      var nextButton = document.querySelector('.next');
      var range = document.querySelector('.navbar--range');

      function displayRenderRange() {
        var start = cal.getDateRangeStart().toISOString().substring(0, 10);
        var end = cal.getDateRangeEnd().toISOString().substring(0, 10);
        range.textContent = `${start} - ${end}`;
      }

      todayButton.addEventListener('click', function () {
        cal.today();
        displayRenderRange();
      });

      prevButton.addEventListener('click', function () {
        cal.prev();
        displayRenderRange();
      });

      nextButton.addEventListener('click', function () {
        cal.next();
        displayRenderRange();
      });

      displayRenderRange(); // Mostrar el rango actual de fechas al cargar la página
    </script>
  </body>
</html>
